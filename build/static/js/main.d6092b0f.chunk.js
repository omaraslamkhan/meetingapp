(this["webpackJsonpmeeting-frontend"]=this["webpackJsonpmeeting-frontend"]||[]).push([[0],{691:function(e,t,n){},847:function(e,t,n){},871:function(e,t){},902:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(38),s=n.n(r),c=(n(691),n(1064)),o=n(1066),l=n(325),d=n(1075),u=n(1108),b=n(641),j=n(1071),p=n(1069),h=n(20),f=n(17),g=n(30),m=n(7),x=n(1086),O=n(1088),v=n(16),y=n(1070),w=n(175),S=n.n(w),k=n(403),C=n.n(k),D=n(1092),N=n(1094),A=n(1097),T=n(1087),M=n(1044),I=n(1100),P=n(60),E=n.n(P),R={userid:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).id:""},z="http://localhost:3004",B=n(2);function F(e){var t=a.useState([]),n=Object(m.a)(t,2),i=n[0],r=n[1],s=a.useState([]),c=Object(m.a)(s,2),o=c[0],l=c[1],d=a.useState([]),u=Object(m.a)(d,2),b=u[0],j=u[1],p=a.useState(!0),v=Object(m.a)(p,2),y=v[0],w=v[1],k=a.useState([]),C=Object(m.a)(k,2),N=C[0],A=C[1];a.useEffect(Object(g.a)(Object(f.a)().mark((function e(){var t;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(z,"/users"),{headers:R});case 2:t=e.sent,A(t.data);case 4:case"end":return e.stop()}}),e)}))),[]),a.useEffect((function(){e.getModalState(y)}),[y]),a.useEffect((function(){var t=e.currentSession.row.participants,n=[],a=[],i=[],s=[],c=[];t.map((function(e){n.push(e)})),N.map((function(e){a.push(e.id)}));var o=a.filter((function(e){return!n.includes(e)}));N.map((function(e){o.includes(e.id)&&i.push(e)})),N.map((function(e){t.includes(e.id)&&c.push(e)})),i.map((function(e){var t={id:e.id,label:e.title};s.push(t)})),r(s),j(c),l(t)}),[N]);return Object(B.jsx)("div",{children:Object(B.jsxs)(I.a,{sx:{m:1,width:600},children:[Object(B.jsxs)("div",{style:{padding:7},children:[Object(B.jsx)("h3",{children:"Participant(s)"}),Object(B.jsx)("div",{style:{width:"100%",display:"flex",flexWrap:"wrap"},children:b.length?b.map((function(e){return Object(B.jsxs)("div",{style:{color:"#7e57c2",border:"1px solid #7e57c2",borderRadius:20,display:"inline-block",marginRight:10,padding:5,marginTop:5},children:[e.firstName+" "+e.lastName,Object(B.jsx)(S.a,{onClick:function(){return function(e){var t=o.filter((function(t){return t!=e.id})),n=b.filter((function(t){return t.id!=e.id})),a={id:e.id,label:e.title};l(t),j(n),i.push(a)}(e)},style:{cursor:"pointer",marginBottom:"-6px",color:"#7e57c2"}})]})})):Object(B.jsx)("span",{style:{marginRight:5},children:"Add a Participant(s)"})})]}),Object(B.jsx)(O.a,{disablePortal:!0,id:"combo-box-demo",style:{margin:"10px 0px"},onChange:function(e,t){return function(e){if(null!=e){var t=b,n=N.filter((function(t){return t.id==e.id}));t.push(n[0]);var a=i.filter((function(t){return t.id!=e.id}));r(a),j(t),o.push(e.id)}}(t)},options:i,sx:{width:"95%"},renderInput:function(e){return Object(B.jsx)(x.a,Object(h.a)(Object(h.a)({},e),{},{label:"Select Participants"}))}}),Object(B.jsxs)("div",{style:{display:"inline-block"},children:[Object(B.jsx)(D.a,{onClick:function(){e.currentSession.row.participants=o,w(!1)},style:{marginTop:20,marginRight:10,width:"20px"},variant:"contained",children:"Save"}),Object(B.jsx)(D.a,{onClick:function(){w(!1)},style:{marginTop:20,width:"100px",background:"#EAEDED",color:"black"},variant:"contained",children:"Cancel"})]})]})})}var U=n(49),W=n(1090),L=n(1081),H=a.forwardRef((function(e,t){return Object(B.jsx)(L.a,Object(h.a)({elevation:6,ref:t,variant:"filled"},e))}));function J(e){return Object(B.jsx)(W.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:e.open,autoHideDuration:5e3,children:Object(B.jsx)(H,{severity:e.type,sx:{width:"100%"},children:e.text})})}var Y=n(1073),_=n(112),q=n.n(_),G={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4},V={position:"absolute",top:"45%",left:"50%",transform:"translate(-50%, -50%)",width:600,bgcolor:"background.paper",boxShadow:24,p:4};function K(e){var t=a.useState([]),n=Object(m.a)(t,2),i=n[0],r=n[1],s=a.useState("dd/MM/yyyy"),c=Object(m.a)(s,2),o=c[0],l=c[1],d=a.useState(!1),u=Object(m.a)(d,2),b=u[0],j=u[1],p=a.useState(),f=Object(m.a)(p,2),g=f[0],O=f[1],w=a.useState(!1),k=Object(m.a)(w,2),I=k[0],P=k[1],E=a.useState(),R=Object(m.a)(E,2),z=(R[0],R[1]),W=a.useState([]),L=Object(m.a)(W,2),H=L[0],_=L[1],K=a.useState(!0),X=Object(m.a)(K,2),$=X[0],Q=X[1],Z=a.useState(!1),ee=Object(m.a)(Z,2),te=ee[0],ne=ee[1],ae=a.useState(!1),ie=Object(m.a)(ae,2),re=ie[0],se=ie[1],ce=a.useState(!1),oe=Object(m.a)(ce,2),le=oe[0],de=oe[1],ue=a.useState(),be=Object(m.a)(ue,2),je=be[0],pe=be[1],he=Object(U.g)();a.useEffect((function(){localStorage.getItem("meetingID")?r(e.meetingSessions):r(e.createMeetingSessions)}),[e]),a.useEffect((function(){var e=new Date,t=e.getDate(),n=e.getMonth()+1,a=e.getFullYear();n<10&&(n="0"+n),t<10&&(t="0"+t),z(a+"-"+n+"-"+t)}),[]);var fe,ge=function(t){var n=e.participants.filter((function(e){return e.id==t}));return n[0].firstName+" "+n[0].lastName},me=function(e){return Object(B.jsxs)("div",{style:{width:"100%",display:"flex",flexWrap:"wrap",overflowY:"scroll"},children:[e.length?e.map((function(e){return Object(B.jsxs)("div",{style:{color:"#1565c0",border:"1px solid #1565c0",borderRadius:20,display:"inline-block",marginRight:10,padding:5,marginTop:5},children:[ge(e)," ",Object(B.jsx)(S.a,{onClick:function(){return t=e,void setTimeout((function(){var e=localStorage.getItem("sessionID"),n=i.filter((function(t){return t.id==e}))[0].participants.filter((function(e){return e!=t}));i.map((function(t){t.id==e&&(t.participants=n)})),P(!I),localStorage.removeItem("sessionID")}),1e3);var t},style:{cursor:"pointer",marginBottom:"-6px",color:"#1565c0"}})]})})):Object(B.jsx)("span",{style:{marginRight:5},children:"Add a Participant"}),Object(B.jsx)(C.a,{style:{cursor:"pointer",marginTop:e.length?11:-2,color:"#1E8449"},onClick:xe})]})},xe=function(){localStorage.setItem("modalData","participants")},Oe=[{field:"sessionDate",headerName:Object(B.jsx)("b",{children:"Session Date"}),width:200,disableColumnMenu:!0,sortable:!1,renderCell:function(e){return Object(B.jsx)(Y.a,{value:e.row.startDate,inputFormat:"dd/MM/yyyy",onChange:function(t){return function(e,t){var n=e,a=q()(n).format("DD/MM/yyyy");if(i.filter((function(e){return q()(e.startDate).format("DD/MM/yyyy")==a})).length)ne(!0),setTimeout((function(){ne(!1)}),5e3);else{var s=i.map((function(n){return n.id==t.id&&(n=Object(h.a)(Object(h.a)({},n),{},{startDate:e,endDate:e})),n}));r(s)}}(t,e)},renderInput:function(e){return Object(B.jsx)(x.a,Object(h.a)({},e))}})}},{field:"participants",headerName:Object(B.jsx)("b",{children:"Participants"}),width:790,disableColumnMenu:!0,sortable:!1,headerClassName:"super-app-theme--header",renderCell:function(e){return me(e.row.participants)}},{field:"action",headerName:Object(B.jsx)("b",{children:"Actions"}),width:225,disableColumnMenu:!0,sortable:!1,disableClickEventBubbling:!0,renderCell:function(e){return Object(B.jsx)("div",{children:Object(B.jsx)(D.a,{size:"small",variant:"contained",onClick:function(){return ve(e.id)},style:{background:"red"},children:"Delete Session"})})}}],ve=function(e){de(!0),pe(e)};return Object(B.jsxs)("div",{children:[Object(B.jsxs)("div",{style:{width:"92%",textAlign:"left",margin:"30px auto",display:"flex"},children:[Object(B.jsxs)("div",{style:{width:"80%"},children:[Object(B.jsx)("h3",{children:"Session Date"}),Object(B.jsx)(Y.a,{value:o,inputFormat:"dd/MM/yyyy",onChange:function(e){return function(e){var t=e,n=q()(t).format("DD/MM/yyyy");i.filter((function(e){return q()(e.startDate).format("DD/MM/yyyy")==n})).length?(l(e),Q(!0),ne(!0),setTimeout((function(){ne(!1)}),5e3)):(l(e),Q(!1))}(e)},renderInput:function(e){return Object(B.jsx)(x.a,Object(h.a)({},e))}}),Object(B.jsx)("br",{}),Object(B.jsx)(D.a,{onClick:function(){var t=H;t.push(i.length);var n=[].concat(Object(v.a)(i),[{id:i.length,startDate:o,endDate:o,participants:[],agendas:[]}]);r(n),_(t),Q(!0),l("dd/MM/yyyy"),null!==e&&void 0!==e&&e.getSessions&&e.getSessions(n)},style:{marginTop:20},variant:"contained",disabled:$,children:"Add Session"}),Object(B.jsx)(D.a,{disabled:e.checkFields||re,onClick:function(){null!==e&&void 0!==e&&e.getMeetingSessions&&e.getMeetingSessions(i,H),null!==e&&void 0!==e&&e.getMeetingInitialData&&(se(!0),e.getMeetingInitialData(i))},style:{marginTop:20,marginLeft:10,background:"green"},variant:"contained",children:"Save"}),!localStorage.getItem("meetingID")&&Object(B.jsx)("p",{style:{fontSize:"12px"},children:"*Would be able to add agendas, once the meeting is saved."})]}),Object(B.jsx)("div",{style:{width:"20%",position:"relative"},children:Object(B.jsx)(D.a,{onClick:function(){he.push("/agendas")},variant:"contained",style:{position:"absolute",bottom:0},disabled:!localStorage.getItem("meetingID"),children:(fe=e.agendas,void 0!=fe?fe.length?"View Agendas":"Add Agendas":"Loading...")})})]}),Object(B.jsxs)("div",{style:{height:500,width:"95%",margin:"auto",marginBottom:50},children:[Object(B.jsx)(y.a,{rows:i||[],columns:Oe,pageSize:5,rowHeight:100,rowsPerPageOptions:[5],onCellClick:function(e){O(e),localStorage.setItem("sessionID",e.row.id),"agendas"!==localStorage.getItem("modalData")&&"participants"!==localStorage.getItem("modalData")||j(!0)},disableSelectionOnClick:!0}),Object(B.jsx)(T.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:le,closeAfterTransition:!0,BackdropComponent:N.a,BackdropProps:{timeout:500},children:Object(B.jsx)(M.a,{in:le,children:Object(B.jsxs)(A.a,{sx:G,children:[Object(B.jsx)("p",{style:{marginBottom:30},children:"Are you sure you want to delete this session? This action can't be reverted."}),Object(B.jsxs)("div",{style:{textAlign:"center"},children:[Object(B.jsx)(D.a,{size:"small",variant:"contained",color:"primary",style:{margin:"0px 10px"},onClick:function(){var t=i.filter((function(e){return e.id!=je}));r(t),e.getDeletedSession(je),de(!1)},children:"Yes"}),Object(B.jsx)(D.a,{size:"small",variant:"contained",color:"primary",style:{margin:"0px 10px"},onClick:function(){de(!1)},children:"No"})]})]})})}),Object(B.jsx)(T.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:b,closeAfterTransition:!0,BackdropComponent:N.a,BackdropProps:{timeout:500},children:Object(B.jsx)(M.a,{in:b,children:Object(B.jsx)(A.a,{sx:V,children:Object(B.jsx)(F,{currentSession:g,getModalState:function(e){!1===e&&(j(!1),setTimeout((function(){localStorage.removeItem("modalData")}),2e3))}})})})})]}),Object(B.jsx)(J,{open:te,text:"Session already added",type:"error"})]})}var X=function(e){return Object(B.jsx)("div",{style:{textAlign:"left",padding:"20px"},children:Object(B.jsx)(D.a,{variant:"contained",onClick:e.onClick,children:e.btnText})})},$=function(){var e=Object(a.useState)(""),t=Object(m.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(null),s=Object(m.a)(r,2),c=s[0],o=s[1],l=Object(a.useState)(null),d=Object(m.a)(l,2),u=d[0],b=d[1],j=Object(a.useState)(!0),p=Object(m.a)(j,2),v=p[0],y=p[1],w=Object(a.useState)([]),S=Object(m.a)(w,2),k=S[0],C=S[1],D=Object(a.useState)([]),N=Object(m.a)(D,2),A=N[0],T=N[1],M=Object(a.useState)(!1),I=Object(m.a)(M,2),P=I[0],F=I[1],W=Object(a.useState)(""),L=Object(m.a)(W,2),H=L[0],Y=L[1],_=Object(a.useState)(""),q=Object(m.a)(_,2),G=q[0],V=q[1],$=Object(a.useState)([]),Q=Object(m.a)($,2),Z=Q[0],ee=Q[1],te=Object(U.g)();Object(a.useEffect)(Object(g.a)(Object(f.a)().mark((function e(){var t,n;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(z,"/departments"),{headers:R});case 2:return t=e.sent,e.next=5,E.a.get("".concat(z,"/users"),{headers:R});case 5:n=e.sent,T(n.data),C(t.data);case 8:case"end":return e.stop()}}),e)}))),[]),Object(a.useEffect)((function(){if(k.length&&A.length){var e=A.filter((function(e){return e.id==JSON.parse(localStorage.getItem("user")).id})),t=k.filter((function(t){return t.id==e[0].department.id})),n={id:e[0].id,label:e[0].title},a={id:t[0].id,label:t[0].name};b(n),o(a)}}),[A,k]),Object(a.useEffect)((function(){n.length?y(!1):y(!0)}),[n]);var ne=function(){var e=Object(g.a)(Object(f.a)().mark((function e(t){var a,i;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={subject:n,organizer:{id:u.id},department:{id:c.id},sessions:t},e.next=3,E.a.post("".concat(z,"/meetings"),a,{headers:R});case 3:i=e.sent,console.log(i),200==(null===i||void 0===i?void 0:i.status)?(localStorage.setItem("meetingID",i.data.id),Y("Meeting has been created successfully!"),F(!0),V("success"),setTimeout((function(){te.push("/meetings/update")}),5e3)):(Y("Error"),F(!0),V("success"),setTimeout((function(){Y(""),F(!1),V("")}),5e3));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsxs)("div",{children:[Object(B.jsx)("div",{style:{background:"#EAEDED",width:"100%",padding:"30px 0px"},children:Object(B.jsxs)("div",{style:{padding:"10px 0px",textAlign:"center",width:"95%",margin:"auto",background:"#fff",boxShadow:"rgba(0, 0, 0, 0.35) 0px 5px 15px"},children:[Object(B.jsx)(X,{btnText:"Cancel",onClick:function(){te.push("/meetings")}}),Object(B.jsx)("h2",{style:{marginTop:"-5px",textAlign:"center"},children:"Create a Meeting"}),Object(B.jsxs)("div",{style:{width:"100%",marginTop:30,textAlign:"left",padding:"0px 20px"},children:[Object(B.jsx)(x.a,{id:"outlined-basic",label:"Meeting Title *",style:{margin:"1px 0px",width:"95%"},variant:"outlined",value:n,onChange:function(e){return i(e.target.value)}}),Object(B.jsx)(O.a,{disablePortal:!0,id:"combo-box-demo",style:{margin:"10px 0px"},value:u,options:A,disabled:!0,sx:{width:"95%"},renderInput:function(e){return Object(B.jsx)(x.a,Object(h.a)(Object(h.a)({},e),{},{label:"Organizer"}))}}),Object(B.jsx)(O.a,{disablePortal:!0,id:"combo-box-demo",options:k,value:c,disabled:!0,style:{margin:"5px 0px"},sx:{width:"95%"},renderInput:function(e){return Object(B.jsx)(x.a,Object(h.a)(Object(h.a)({},e),{},{label:"Department"}))}})]}),Object(B.jsx)(K,{getMeetingInitialData:ne,checkFields:v,createMeetingSessions:Z,getSessions:function(e){ee(e)},agendas:[],participants:A,getDeletedSession:function(e){var t=Z.filter((function(t){return t.id!=e}));ee(t)}})]})}),Object(B.jsx)(J,{open:P,text:H,type:G})]})},Q=[{id:0,name:"Amanullah Khan",initials:"AK"},{id:1,name:"Umer Aslam",initials:"UA"},{id:2,name:"Arif Matloob",initials:"AM"},{id:3,name:"Shuja Ur Rehman Khan",initials:"SRK"},{id:4,name:"Abdul Haseeb",initials:"AH"},{id:5,name:"Aqib Umer",initials:"AU"}],Z=n(582),ee=n.n(Z);var te=E.a.create({baseURL:"".concat(z),paramsSerializer:function(e){return ee.a.stringify(e,{indices:!1})}});te.interceptors.request.use((function(e){return e.headers={userid:JSON.parse(localStorage.getItem("user")).id},e}),(function(e){return Promise.reject(e)})),te.interceptors.response.use((function(e){return function(e){return 200===e.status?e:this.parseError(e.data.messages)}(e)}),(function(e){return console.warn("Error status",e.response.status),e.response?(t=e.response.data)?t instanceof Array?Promise.reject({messages:t}):Promise.reject({messages:[t]}):Promise.reject({messages:["Service fails"]}):Promise.reject(e);var t}));var ne=te,ae=function(e,t){return ne.get("".concat(t),{params:e})},ie=function(){var e=Object(a.useState)(""),t=Object(m.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(null),c=Object(m.a)(s,2),o=c[0],l=c[1],d=Object(a.useState)(null),u=Object(m.a)(d,2),b=u[0],j=u[1],p=Object(a.useState)(!0),v=Object(m.a)(p,2),y=v[0],w=v[1],S=Object(a.useState)([]),k=Object(m.a)(S,2),C=k[0],D=k[1],N=Object(a.useState)([]),A=Object(m.a)(N,2),T=A[0],M=A[1],I=Object(a.useState)([]),P=Object(m.a)(I,2),F=P[0],W=P[1],L=Object(a.useState)([]),H=Object(m.a)(L,2),Y=H[0],_=H[1],q=Object(a.useState)({}),G=Object(m.a)(q,2),V=G[0],$=G[1],Z=Object(a.useState)([]),ee=Object(m.a)(Z,2),te=ee[0],ne=ee[1],ie=Object(a.useState)(!1),re=Object(m.a)(ie,2),se=re[0],ce=re[1],oe=Object(a.useState)(""),le=Object(m.a)(oe,2),de=le[0],ue=le[1],be=Object(a.useState)(""),je=Object(m.a)(be,2),pe=je[0],he=je[1],fe=Object(U.g)();Object(a.useEffect)(Object(g.a)(Object(f.a)().mark((function e(){var t,n,a,i,r,s;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=[],a=localStorage.getItem("meetingID"),e.next=5,E.a.get("".concat(z,"/departments"),{headers:R});case 5:return i=e.sent,e.next=8,E.a.get("".concat(z,"/users"),{headers:R});case 8:return r=e.sent,e.next=11,E.a.get("".concat(z,"/meetings/").concat(a),{headers:R});case 11:s=e.sent,r.data.map((function(e){var n={id:e.id,label:e.title};t.push(n)})),i.data.map((function(e){var t={id:e.id,label:e.name};n.push(t)})),_(t),W(n),ne(r.data),$(s.data);case 18:case"end":return e.stop()}}),e)}))),[]);var ge=function(){var e=Object(g.a)(Object(f.a)().mark((function e(){var t;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae("","meetings?_end=100&_order=ASC&_sort=id&_start=0");case 2:t=e.sent,M(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();i.a.useEffect((function(){ge()}),[]),Object(a.useEffect)((function(){var e=localStorage.getItem("meetingID");if(T.length&&Y.length&&F.length){var t=T.filter((function(t){return t.id==e})),n=Y.filter((function(e){return e.id==t[0].organizer.id})),a=F.filter((function(e){return e.id==t[0].department.id}));j({id:n[0].id,label:n[0].label}),l({id:a[0].id,label:a[0].label}),r(t[0].subject)}}),[T,Y,F]),Object(a.useEffect)((function(){V.hasOwnProperty("sessions")&&D(V.sessions)}),[V]),Object(a.useEffect)((function(){n.length?w(!1):w(!0)}),[n]);var me=function(){var e=Object(g.a)(Object(f.a)().mark((function e(t,n){var a,i,r;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.map((function(e){return e.startDate=new Date(e.startDate).toISOString(),e.endDate=new Date(e.endDate).toISOString(),n.includes(e.id)&&delete e.id,e})),i=Object(h.a)(Object(h.a)({},V),{},{sessions:a}),e.next=4,E.a.put("".concat(z,"/meetings/").concat(V.id),i,{headers:R});case 4:r=e.sent,console.log(r),200==(null===r||void 0===r?void 0:r.status)?(ue("Meeting has been updated successfully!"),ce(!0),he("success"),setTimeout((function(){ce(!1)}),5e3)):(ue("Error"),ce(!0),he("success"),setTimeout((function(){ue(""),ce(!1),he("")}),5e3));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(B.jsxs)("div",{children:[Object(B.jsx)("div",{style:{background:"#EAEDED",width:"100%",padding:"30px 0px"},children:Object(B.jsxs)("div",{style:{padding:"10px 0px",textAlign:"center",width:"95%",margin:"auto",background:"#fff",boxShadow:"rgba(0, 0, 0, 0.35) 0px 5px 15px"},children:[Object(B.jsx)(X,{btnText:"Back",onClick:function(){fe.push("/meetings")}}),Object(B.jsx)("h2",{style:{marginTop:"-5px",textAlign:"center"},children:"Update a Meeting"}),Object(B.jsxs)("div",{style:{width:"100%",marginTop:30,textAlign:"left",padding:"0px 20px"},children:[Object(B.jsx)(x.a,{id:"outlined-basic",label:"Subject *",variant:"outlined",style:{width:"95%",margin:"1px 0px"},value:n,onChange:function(e){return r(e.target.value)}}),Object(B.jsx)(O.a,{disablePortal:!0,id:"combo-box-demo",disabled:!0,value:b,onChange:function(e,t){return function(e){if(null!=e){var t=Q.filter((function(t){return t.id==e.id}));j(t[0])}else j(null)}(t)},options:Y,sx:{width:"95%"},style:{margin:"10px 0px"},renderInput:function(e){return Object(B.jsx)(x.a,Object(h.a)(Object(h.a)({},e),{},{label:"Organizer"}))}}),Object(B.jsx)(O.a,{disablePortal:!0,id:"combo-box-demo",options:F,disabled:!0,value:o,onChange:function(e,t){var n;l(null!=(n=t)?n:null)},sx:{width:"95%"},style:{margin:"5px 0px"},renderInput:function(e){return Object(B.jsx)(x.a,Object(h.a)(Object(h.a)({},e),{},{label:"Department"}))}})]}),Object(B.jsx)(K,{getMeetingSessions:me,participants:te,checkFields:y,meetingSessions:C,getSessions:function(e){D(e)},agendas:V.agendas,getDeletedSession:function(e){var t=C.filter((function(t){return t.id!=e}));D(t)}})]})}),Object(B.jsx)(J,{open:se,text:de,type:pe})]})},re=function(e){var t=a.useState(null),n=Object(m.a)(t,2),i=n[0],r=n[1],s=a.useState(null),c=Object(m.a)(s,2),o=c[0],l=c[1],d=a.useState([]),u=Object(m.a)(d,2),b=u[0],j=u[1],p=a.useState([]),f=Object(m.a)(p,2),g=f[0],v=f[1],y=a.useState([]),w=Object(m.a)(y,2),S=w[0],k=w[1];a.useEffect((function(){l(e.filters.department),r(e.filters.organizer)}),[]),a.useEffect((function(){var t=e.filters;t=Object(h.a)(Object(h.a)({},e.filters),{},{department:o}),e.getFilters(t)}),[o]),a.useEffect((function(){var t=e.filters;t=Object(h.a)(Object(h.a)({},e.filters),{},{organizer:i}),e.getFilters(t)}),[i]),a.useEffect((function(){var t=[],n=[];v(e.allRows),e.users.map((function(e){var n={id:e.id,label:e.title};t.push(n)})),e.departments.map((function(e){var t={id:e.id,label:e.name};n.push(t)})),j(n),k(t)}),[]);var C=function(){e.filterModal(!1)},N=function(t){!function(t){var n=[];n=null!=o?t.filter((function(e){return e.department.id==o.id})):t,e.getFilteredRows(n)}(null!=i?t.filter((function(e){return e.organizer.id==i.id})):t)};return Object(B.jsxs)("div",{children:[Object(B.jsx)("h2",{style:{textAlign:"center"},children:"Filters"}),Object(B.jsxs)("div",{style:{width:"100%"},children:[Object(B.jsx)(O.a,{disablePortal:!0,id:"combo-box-demo",options:S,value:i,sx:{width:"100%"},onChange:function(e,t){return r(t)},renderInput:function(e){return Object(B.jsx)(x.a,Object(h.a)(Object(h.a)({},e),{},{label:"Organizer"}))}}),Object(B.jsx)(O.a,{disablePortal:!0,id:"combo-box-demo",value:o,options:b,sx:{width:"100%",marginTop:2},onChange:function(e,t){return l(t)},renderInput:function(e){return Object(B.jsx)(x.a,Object(h.a)(Object(h.a)({},e),{},{label:"Department"}))}})]}),Object(B.jsxs)("div",{style:{width:"100%",textAlign:"right",marginTop:20},children:[Object(B.jsx)(D.a,{variant:"contained",onClick:function(){N(g),C()},children:"Apply"}),Object(B.jsx)(D.a,{style:{marginLeft:20},variant:"contained",onClick:function(){l(null),r(null),e.getFilteredRows(g),C()},children:"Clear Filters"}),Object(B.jsx)(D.a,{style:{marginLeft:20},variant:"contained",onClick:C,children:"Cancel"})]})]})},se=n(583),ce=n.n(se),oe={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4},le={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:800,bgcolor:"background.paper",boxShadow:24,p:4,outline:"none"};function de(){var e=a.useState([]),t=Object(m.a)(e,2),n=t[0],i=t[1],r=a.useState([]),s=Object(m.a)(r,2),c=s[0],o=s[1],l=a.useState(!1),d=Object(m.a)(l,2),u=d[0],b=d[1],j=a.useState(!1),p=Object(m.a)(j,2),h=p[0],x=p[1],O=a.useState(!1),v=Object(m.a)(O,2),w=v[0],S=v[1],k=a.useState(),C=Object(m.a)(k,2),I=C[0],P=C[1],F=a.useState([]),W=Object(m.a)(F,2),L=W[0],H=W[1],J=a.useState([]),Y=Object(m.a)(J,2),_=Y[0],q=Y[1],G=a.useState([]),V=Object(m.a)(G,2),K=V[0],X=V[1],$=a.useState({organizer:null,department:null}),Q=Object(m.a)($,2),Z=Q[0],ee=Q[1],te=Object(U.g)();a.useEffect(Object(g.a)(Object(f.a)().mark((function e(){var t,n;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(z,"/users"),{headers:R});case 2:return t=e.sent,e.next=5,E.a.get("".concat(z,"/departments"),{headers:R});case 5:n=e.sent,H(t.data),q(n.data);case 8:case"end":return e.stop()}}),e)}))),[]);var ne=function(){var e=Object(g.a)(Object(f.a)().mark((function e(){var t;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae("","meetings?_end=100&_order=ASC&_sort=id&_start=0");case 2:t=e.sent,o(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();a.useEffect((function(){ne()}),[]),a.useEffect((function(){if(c.length){var e=localStorage.getItem("user"),t=JSON.parse(e),n=c.filter((function(e){return e.organizer.id==t.id}));934==t.id||984==t.id||994==t.id||1054==t.id?(i(c),X(c),b(!0)):(i(n),X(n))}}),[c]),a.useEffect((function(){localStorage.getItem("meetingID")&&localStorage.removeItem("meetingID")}),[]);var ie=[{field:"subject",headerName:Object(B.jsx)("b",{children:"Meeting Name"}),width:u?500:330,disableColumnMenu:!0,sortable:!1,renderCell:function(e){return Object(B.jsx)("a",{href:"".concat(window.location.origin,"/reporting/").concat(e.id),target:"_blank",children:e.row.subject})}},{field:"organizer",headerName:Object(B.jsx)("b",{children:"Organizer"}),width:u?350:300,disableColumnMenu:!0,sortable:!1,renderCell:function(e){return Object(B.jsx)("span",{children:e.row.organizer.firstName+" "+e.row.organizer.lastName})}},{field:"department",headerName:Object(B.jsx)("b",{children:"Department"}),width:300,disableColumnMenu:!0,sortable:!1,renderCell:function(e){return Object(B.jsx)("span",{children:e.row.department.name})}},{field:"action",headerName:Object(B.jsx)("b",{children:"Actions"}),width:210,hide:!!u,disableColumnMenu:!0,sortable:!1,disableClickEventBubbling:!0,renderCell:function(e){return Object(B.jsxs)("div",{children:[Object(B.jsx)(D.a,{onClick:function(){return se(e)},size:"small",disabled:u,variant:"contained",style:{marginRight:10},children:"Edit"}),Object(B.jsx)(D.a,{size:"small",disabled:u,onClick:function(){return t=e.row.id,x(!0),void P(t);var t},variant:"contained",style:{background:"red"},children:"Delete"})]})}}],se=function(e){localStorage.setItem("meetingID",e.id),te.push("/meetings/update")},de=function(){var e=Object(g.a)(Object(f.a)().mark((function e(){var t;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.delete("".concat(z,"/meetings/").concat(I),{headers:R});case 2:t=e.sent,console.log(t),i([]),ne(),x(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(B.jsx)("div",{children:Object(B.jsx)("div",{style:{background:"#EAEDED",width:"100%",padding:"30px 0px"},children:Object(B.jsxs)("div",{style:{padding:"10px 0px",textAlign:"center",width:"95%",margin:"auto",background:"#fff",boxShadow:"rgba(0, 0, 0, 0.35) 0px 5px 15px"},children:[Object(B.jsx)(T.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:w,closeAfterTransition:!0,BackdropComponent:N.a,BackdropProps:{timeout:500},children:Object(B.jsx)(M.a,{in:w,children:Object(B.jsx)(A.a,{sx:le,children:Object(B.jsx)(re,{departments:_,users:L,filterModal:function(e){S(e)},getFilteredRows:function(e){i(e)},allRows:K,getFilters:function(e){ee(e)},filters:Z})})})}),Object(B.jsx)(T.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:h,closeAfterTransition:!0,BackdropComponent:N.a,BackdropProps:{timeout:500},children:Object(B.jsx)(M.a,{in:h,children:Object(B.jsxs)(A.a,{sx:oe,children:[Object(B.jsx)("p",{style:{marginBottom:30},children:"Are you sure you want to delete this meeting? This action can't be reverted."}),Object(B.jsxs)("div",{style:{textAlign:"center"},children:[Object(B.jsx)(D.a,{size:"small",variant:"contained",color:"primary",style:{margin:"0px 10px"},onClick:de,children:"Yes"}),Object(B.jsx)(D.a,{size:"small",variant:"contained",color:"primary",style:{margin:"0px 10px"},onClick:function(){x(!1)},children:"No"})]})]})})}),Object(B.jsx)("h2",{children:"Meetings"}),Object(B.jsxs)("div",{style:{width:"95%",textAlign:"left",margin:"30px auto"},children:[!u&&Object(B.jsx)(D.a,{style:{marginTop:20},variant:"contained",onClick:function(){te.push("/meetings/create")},children:"+ Add Meeting"}),u&&Object(B.jsx)(ce.a,{variant:"contained",onClick:function(){S(!0)},color:"primary",style:{cursor:"pointer",marginBottom:"-20px",marginLeft:10}})]}),Object(B.jsx)("div",{style:{height:650,width:"95%",margin:"auto",marginBottom:50},children:Object(B.jsx)(y.a,{rows:n,columns:ie,pageSize:10,rowHeight:50,rowsPerPageOptions:[5],onCellClick:function(e){console.log(e)},disableSelectionOnClick:!0})})]})})})}var ue=n(1050),be=function(e){var t=a.useState([]),n=Object(m.a)(t,2),i=n[0],r=n[1];a.useEffect((function(){var e=localStorage.getItem("user");JSON.parse(e);fetch("".concat(z,"/points?_end=200&_order=ASC&_sort=id&_start=0"),{headers:R}).then((function(e){return e.json()})).then((function(e){r(e)})).catch((function(e){return console.log(e.message)}))}),[]);var s=i.map((function(e){return{id:e.id,meetingTitle:e.meetingTitle,status:0===e.status?"Pending":"Approved",meeting:e.meeting,text:e.text,originalDate:e.originalDate?e.originalDate.split("T")[0]:null,targetDate:e.targetDate?e.targetDate.split("T")[0]:null,assignees:e.assignees}})),c=Object(ue.a)(),o=c.loading;c.permissions;return Object(B.jsx)("div",{children:Object(B.jsx)("div",{style:{background:"#EAEDED",width:"100%",padding:"30px 10px"},children:Object(B.jsxs)("div",{style:{padding:"50px 20px",textAlign:"center",width:"95%",margin:"auto",background:"#fff",boxShadow:"rgba(0, 0, 0, 0.35) 0px 5px 15px"},children:[Object(B.jsx)("h2",{style:{marginTop:"-5px",textAlign:"center"},children:"Tasks"}),o?null:Object(B.jsx)("div",{style:{height:400,width:"100%"},children:Object(B.jsx)(y.a,{rows:s,columns:[{field:"meetingTitle",headerName:"Meeting Title",width:160},{field:"text",headerName:"Task",width:300},{field:"originalDate",headerName:"Original Date",width:150},{field:"targetDate",headerName:"Target Date",width:150},{field:"assignees",headerName:"Responsible Persons",width:200},{field:"status",headerName:"Stauts",width:150}],pageSize:5,rowsPerPageOptions:[5],checkboxSelection:!0,onCellEditCommit:function(e){console.log("junaid dev",e),setSelectionModel(e)}})})]})})})},je=n(142),pe=n(771),he=n(906),fe=n(772),ge=n(773),me=n(322),xe=n(774),Oe=n(330),ve=n(1053),ye=n(297),we=n(1052),Se=n(298),ke=n(179),Ce=n(291),De={auth:{clientId:"9ff19d95-5968-4398-839c-ddec18d2c1d1",authority:"https://login.microsoftonline.com/e32c653e-3d44-469a-bc0a-7f8175872ac4",redirectUri:"http://localhost:3000"},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:function(e,t,n){if(!n)switch(e){case Ce.a.Error:return void console.error(t);case Ce.a.Info:case Ce.a.Verbose:return;case Ce.a.Warning:return void console.warn(t)}}}}},Ne={scopes:["User.Read","Directory.Read.All"]},Ae="https://graph.microsoft.com/v1.0/me";function Te(){return(Te=Object(g.a)(Object(f.a)().mark((function e(t){var n,a,i;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Headers,a="Bearer ".concat(t),n.append("Authorization",a),i={method:"GET",headers:n},e.abrupt("return",fetch(Ae,i).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Me=Object(je.d)().Form,Ie=Object(Oe.a)((function(e){return{main:{display:"flex",flexDirection:"column",minHeight:"100vh",alignItems:"center",justifyContent:"flex-start",background:"url(https://i.imgur.com/rUBUUsJ.jpg)",backgroundRepeat:"no-repeat",backgroundSize:"cover"},card:{minWidth:300,marginTop:"6em"},avatar:{margin:"1em",display:"flex",justifyContent:"center"},icon:{backgroundColor:e.palette.secondary.main},form:{padding:"0 1em 1em 1em"},actions:{padding:"0 1em 1em 1em"}}})),Pe=function(){var e=a.useState(!1),t=Object(m.a)(e,2),n=t[0],i=t[1],r=Ie(),s=Object(ye.a)(),c=Object(we.a)(),o=Object(ke.b)(),l=o.instance,d=o.accounts;a.useEffect((function(){null!==d&&void 0!==d&&d.length&&(i(!0),l.acquireTokenSilent(Object(h.a)(Object(h.a)({},Ne),{},{account:d[0]})).then((function(e){(function(e){return Te.apply(this,arguments)})(e.accessToken).then(function(){var e=Object(g.a)(Object(f.a)().mark((function e(t){return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t);case 2:i(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})))}),[d]);return Object(B.jsx)(Me,{onSubmit:function(){i(!0),l.loginRedirect(Ne).catch((function(e){i(!1),s("string"===typeof e?e:"undefined"!==typeof e&&e.message?e.message:"Error while signing in","warning",{_:"string"===typeof e?e:e&&e.message?e.message:void 0})}))},render:function(e){var t=e.handleSubmit;return Object(B.jsx)("form",{onSubmit:t,noValidate:!0,children:Object(B.jsxs)("div",{className:r.main,children:[Object(B.jsxs)(pe.a,{className:r.card,children:[Object(B.jsx)("div",{className:r.avatar,children:Object(B.jsx)(he.a,{className:r.icon,children:Object(B.jsx)(ve.a,{})})}),Object(B.jsx)(fe.a,{className:r.actions,children:Object(B.jsx)(ge.a,{orientation:"vertical",variant:"text",fullWidth:!0,children:Object(B.jsxs)(me.a,{variant:"contained",type:"submit",color:"primary",disabled:n,children:[n&&Object(B.jsx)(xe.a,{size:25,thickness:2}),"SIGN IN"]})})})]}),Object(B.jsx)(Se.a,{})]})})}})},Ee=n(299),Re=n(589),ze=n(300),Be=n.n(ze),Fe=Object(a.forwardRef)((function(e,t){var n=Object(Ee.a)(),a=Object(ke.b)().instance,i=function(){var e=Object(g.a)(Object(f.a)().mark((function e(){return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:return e.next=4,a.logoutRedirect({postLogoutRedirectUri:"/"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(B.jsxs)(Re.a,{onClick:i,ref:t,children:[Object(B.jsx)(Be.a,{})," Logout"]})})),Ue=Fe,We=n(410),Le=n(1076),He=n(1078),Je=n(1060),Ye=n(1061),_e=n(1062),qe=n(1063),Ge=function(e){Object(We.a)((function(e){return e.breakpoints.down("sm")}));return Object(B.jsx)(Le.a,Object(h.a)(Object(h.a)({title:"All users"},e),{},{children:Object(B.jsxs)(He.a,{children:[Object(B.jsx)(Je.a,{label:"Name",render:function(e){return"".concat(e.firstName," ").concat(e.lastName)}}),Object(B.jsx)(Ye.a,{source:"email"}),Object(B.jsx)(_e.a,{source:"designation.designation",label:"Designation"}),Object(B.jsx)(_e.a,{source:"department.name",label:"Department"}),Object(B.jsx)(qe.a,{source:"hasAdminRights",label:"Has Admin Rights"})]})}))},Ve={login:function(){var e=Object(g.a)(Object(f.a)().mark((function e(t){var n,a,i,r,s;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat("http://localhost:3004","/login"),a={email:t.userPrincipalName,firstName:t.givenName,lastName:t.surname,designation:t.jobTitle},i=new Request(n,{method:"POST",body:JSON.stringify(a),headers:new Headers({"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"})}),e.next=5,fetch(i);case 5:if(!((r=e.sent).status<200||r.status>=300)){e.next=8;break}throw"Error while signing in";case 8:return e.next=10,r.json();case 10:return s=e.sent,localStorage.setItem("user",JSON.stringify(s)),e.abrupt("return",s);case 15:return e.prev=15,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",Promise.reject(e.t0));case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),logout:function(){return localStorage.removeItem("user"),Promise.resolve("/login")},checkError:function(e){var t=e.status;return 401===t||403===t?(localStorage.removeItem("user"),Promise.reject()):Promise.resolve()},checkAuth:function(){return localStorage.getItem("user")?Promise.resolve():Promise.reject()},getPermissions:function(){if(document.location.hash.includes("signup"))return Promise.resolve("guest");var e=JSON.parse(localStorage.getItem("user"));if(!e)return Promise.reject();var t=!(null===e||void 0===e||!e.hasAdminRights);return Promise.resolve(t?"admin":"user")},getIdentity:function(){try{var e=JSON.parse(localStorage.getItem("user"));return Promise.resolve(Object(h.a)(Object(h.a)({},e),{},{fullName:e.firstName+" "+e.lastName}))}catch(t){return Promise.reject(t)}}},Ke=n(4),Xe=n(31),$e=n(27),Qe=n(45),Ze=n(46),et=n(15),tt=n(200),nt="#0D0D0D",at=n(845),it=n(185),rt=n(21),st=n(844),ct=n(184),ot=n(618),lt=n(619),dt=n(415),ut=n(645),bt=n(586),jt=n(588),pt=n(411),ht=n(621),ft=n.n(ht),gt=n(420),mt=n.n(gt),xt=n(419),Ot=n.n(xt),vt=n(306),yt=n.n(vt),wt=function(e){Object(Qe.a)(n,e);var t=Object(Ze.a)(n);function n(){var e;Object(Xe.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={email:"",password:"",passwordConfrim:"",designation:"",firstName:"",lastName:"",hidePassword:!0,error:null,errorOpen:!1,designationsList:[]},e.errorClose=function(t){e.setState({errorOpen:!1})},e.handleChange=function(t){return function(n){e.setState(Object(Ke.a)({},t,n.target.value))}},e.passwordMatch=function(){return e.state.password===e.state.passwordConfrim},e.showPassword=function(){e.setState((function(e){return{hidePassword:!e.hidePassword}}))},e.isValid=function(){return!!e.state.email&&!!e.state.firstName&&!!e.state.lastName&&!!e.state.designation&&!!e.state.password&&e.state.password===e.state.passwordConfrim},e.submitRegistration=function(t){t.preventDefault(),e.passwordMatch()||e.setState({errorOpen:!0,error:"Passwords don't match"});var n={email:e.state.email,password:e.state.password,firstName:e.state.firstName,lastName:e.state.lastName,designation:e.state.designation,mode:"signup"};e.props.userLogin(n)},e}return Object($e.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(Object(f.a)().mark((function e(){var t,n,a;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new Request("".concat("http://localhost:3004","/designations"),{method:"GET",headers:new Headers({"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"})}),e.next=4,fetch(t);case 4:if(!((n=e.sent).status<200||n.status>=300)){e.next=7;break}throw new Error(response.statusText);case 7:return e.next=9,n.json();case 9:a=e.sent,this.setState({designationsList:a}),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",Promise.reject(e.t0));case 17:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes;return Object(B.jsxs)("div",{className:t.main,children:[Object(B.jsx)(st.a,{}),Object(B.jsxs)(ct.a,{className:t.paper,children:[Object(B.jsxs)("form",{className:t.form,onSubmit:function(){return e.submitRegistration},children:[Object(B.jsxs)(ot.a,{required:!0,fullWidth:!0,margin:"normal",children:[Object(B.jsx)(lt.a,{htmlFor:"email",className:t.labels,children:"Email"}),Object(B.jsx)(dt.a,{name:"email",type:"email",autoComplete:"off",className:t.inputs,disableUnderline:!0,onChange:this.handleChange("email")})]}),Object(B.jsxs)(ot.a,{required:!0,fullWidth:!0,margin:"normal",children:[Object(B.jsx)(lt.a,{htmlFor:"firstName",className:t.labels,children:"First Name"}),Object(B.jsx)(dt.a,{name:"firstName",type:"text",autoComplete:"off",className:t.inputs,disableUnderline:!0,onChange:this.handleChange("firstName")})]}),Object(B.jsxs)(ot.a,{required:!0,fullWidth:!0,margin:"normal",children:[Object(B.jsx)(lt.a,{htmlFor:"lastName",className:t.labels,children:"Last Name"}),Object(B.jsx)(dt.a,{name:"lastName",type:"text",autoComplete:"off",className:t.inputs,disableUnderline:!0,onChange:this.handleChange("lastName")})]}),Object(B.jsxs)(ot.a,{required:!0,fullWidth:!0,margin:"normal",children:[Object(B.jsx)(lt.a,{htmlFor:"designations",className:t.labels,children:"Designations"}),Object(B.jsx)(ut.a,{className:t.inputs,value:this.state.designation,onChange:this.handleChange("designation"),children:this.state.designationsList.map((function(e){return Object(B.jsx)(Re.a,{value:e.id,children:e.designation})}))})]}),Object(B.jsxs)(ot.a,{required:!0,fullWidth:!0,margin:"normal",children:[Object(B.jsx)(lt.a,{htmlFor:"password",className:t.labels,children:"Password"}),Object(B.jsx)(dt.a,{name:"password",autoComplete:"password",className:t.inputs,disableUnderline:!0,onChange:this.handleChange("password"),type:this.state.hidePassword?"password":"input",endAdornment:this.state.hidePassword?Object(B.jsx)(at.a,{position:"end",children:Object(B.jsx)(Ot.a,{fontSize:"default",className:t.passwordEye,onClick:this.showPassword})}):Object(B.jsx)(at.a,{position:"end",children:Object(B.jsx)(mt.a,{fontSize:"default",className:t.passwordEye,onClick:this.showPassword})})})]}),Object(B.jsxs)(ot.a,{required:!0,fullWidth:!0,margin:"normal",children:[Object(B.jsx)(lt.a,{htmlFor:"passwordConfrim",className:t.labels,children:"Confrim Password"}),Object(B.jsx)(dt.a,{name:"passwordConfrim",autoComplete:"passwordConfrim",className:t.inputs,disableUnderline:!0,onClick:this.state.showPassword,onChange:this.handleChange("passwordConfrim"),type:this.state.hidePassword?"password":"input",endAdornment:this.state.hidePassword?Object(B.jsx)(at.a,{position:"end",children:Object(B.jsx)(Ot.a,{fontSize:"default",className:t.passwordEye,onClick:this.showPassword})}):Object(B.jsx)(at.a,{position:"end",children:Object(B.jsx)(mt.a,{fontSize:"default",className:t.passwordEye,onClick:this.showPassword})})})]}),Object(B.jsx)(me.a,{disabled:!this.isValid(),disableRipple:!0,fullWidth:!0,variant:"outlined",className:t.button,type:"submit",onClick:this.submitRegistration,children:"Join"})]}),this.state.error?Object(B.jsx)(bt.a,{variant:"error",anchorOrigin:{vertical:"bottom",horizontal:"center"},open:this.state.errorOpen,onClose:this.errorClose,autoHideDuration:3e3,children:Object(B.jsx)(jt.a,{className:t.error,message:Object(B.jsxs)("div",{children:[Object(B.jsx)("span",{style:{marginRight:"8px"},children:Object(B.jsx)(ft.a,{fontSize:"large",color:"error"})}),Object(B.jsxs)("span",{children:[" ",this.state.error," "]})]}),action:[Object(B.jsx)(pt.a,{"aria-label":"close",onClick:this.errorClose,children:Object(B.jsx)(yt.a,{color:"error"})},"close")]})},this.state.error):null]})]})}}]),n}(a.Component),St=Object(rt.c)(void 0,{userLogin:it.g})(Object(et.a)((function(e){return{main:Object(Ke.a)({marginTop:"20px",marginBottom:"20px",display:"block",width:"auto"},e.breakpoints.up(400+e.spacing(2)),{width:600,marginLeft:"auto",marginRight:"auto"}),paper:{position:"relative",marginTop:"20px",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(1),"px"),display:"flex",flexDirection:"column",alignItems:"center",background:"linear-gradient(180deg, rgba(169,198,217,1) 15%, rgba(0,100,100,0.5) 90%)",boxShadow:".2px 12px 18px rgba(131,153,167,0.6)","&:hover":{boxShadow:"0px 24px 36px rgba(131,153,167,0.99)"}},avatar:{marginTop:10,position:"relative",background:"rgba(255,255,255,0.85)",width:"50px",height:"50px",boxShadow:"0px 0px 12px rgba(131,153,167,0.99)"},icon:{width:"80px",height:"80px",color:"rgba(131,153,167,0.79)"},form:{margin:e.spacing(4)},labels:{padding:"".concat(e.spacing(1),"px ").concat(e.spacing(4),"px"),fontSize:"10px",lineHeight:"5px",fontFamily:"PT Mono, monospace",fontWeight:300,opacity:.45,color:"".concat(nt," !important")},inputs:{position:"relative",marginLeft:e.spacing(1),marginRight:e.spacing(1),fontFamily:"Cutive Mono, monospace",color:nt,fontSize:"14px",padding:"".concat(e.spacing(1.5),"px ").concat(e.spacing(1),"px"),borderRadius:"8px",border:"1.4px solid",boxShadow:"1px 2px 20px rgba(169,198,217,0.29457423) ",borderColor:"rgba(206,212,218, .993)","&:hover":{background:"rgba(169,198,217,0.36457423) "}},button:{color:nt,background:"rgba(255,255,255,.45)",position:"relative",fontWeight:400,fontFamily:"Raleway, sans-serif",overflow:"hidden",marginTop:e.spacing(6),padding:"".concat(e.spacing(1.6),"px"),border:"none",borderRadius:"8px",letterSpacing:"3px","&::before, &::after":{position:"absolute",content:'""',boxSizing:"border-box",borderRadius:"8px",top:0,bottom:0,left:0,right:0,opacity:1},"&::before":{borderBottom:"2px solid rgba(255,255,255,.58)",borderTop:"2px solid rgba(255,255,255,.58)",transform:"scale(0,1)"},"&::after":{borderLeft:"3px solid rgba(255,255,255,.58)",borderRight:"3px solid rgba(255,255,255,.58)",transform:"scale(1,0)"},"&:hover::before":{transform:"scale(1,1)",transition:"transform cubic-bezier(0.85,.36,.8,.42) 0.3s"},"&:hover::after":{transform:"scale(1,1)",transition:"transform cubic-bezier(0.85,.36,.8,.42) .2s"},"&::first-letter":{color:"#DDDDDD"},"&:hover":{background:"rgba(169,198,217,0.8)",color:"#eaf2f4"}},error:{border:"1.2px solid ".concat(tt.a[900]),background:"rgba(169,198,217,0.29457423)",color:tt.a[900],fontSize:"14px",fontWeight:400,fontFamily:"Raleway, sans-serif",display:"flex",alignItems:"center",paddingBottom:e.spacing(3)},passwordEye:{color:"rgba(131,153,167,0.9)",opacity:.7}}}))(wt)),kt=n(41),Ct=n(622),Dt=n.n(Ct),Nt=(n(847),n(903)),At=n(623),Tt=n.n(At),Mt=[{id:0,name:"Not Started"},{id:1,name:"In Progress"},{id:2,name:"Need Management Approval"},{id:3,name:"On Hold"},{id:4,name:"Completed"},{id:5,name:"Aborted/Closed"}].reduce((function(e,t){return e[t.id]=t.name,e}),{}),It=n(12),Pt=n(1080),Et=n(1098),Rt=n(1095);function zt(e){var t=a.useState([]),n=Object(m.a)(t,2),i=n[0],r=n[1],s=a.useState([]),c=Object(m.a)(s,2),o=c[0],l=c[1],d=a.useState([]),u=Object(m.a)(d,2),b=u[0],j=u[1],p=a.useState(!0),v=Object(m.a)(p,2),y=v[0],w=v[1],k=a.useState([]),C=Object(m.a)(k,2),N=C[0],A=C[1];a.useEffect(Object(g.a)(Object(f.a)().mark((function e(){var t;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(z,"/users"),{headers:R});case 2:t=e.sent,A(t.data);case 4:case"end":return e.stop()}}),e)}))),[]),a.useEffect((function(){e.getModalState(y)}),[y]),a.useEffect((function(){var t=e.currentTask.assignees,n=[],a=[],i=[],s=[],c=[];t.map((function(e){n.push(e)})),N.map((function(e){a.push(e.id)}));var o=a.filter((function(e){return!n.includes(e)}));N.map((function(e){o.includes(e.id)&&i.push(e)})),N.map((function(e){t.includes(e.id)&&c.push(e)})),i.map((function(e){var t={id:e.id,label:e.title};s.push(t)})),r(s),j(c),l(t)}),[N]);return Object(B.jsx)("div",{children:Object(B.jsxs)(I.a,{sx:{m:1,width:600},children:[Object(B.jsxs)("div",{style:{padding:7},children:[Object(B.jsx)("h3",{children:"Participant(s)"}),Object(B.jsx)("div",{style:{width:"100%",display:"flex",flexWrap:"wrap"},children:b.length?b.map((function(e){return Object(B.jsxs)("div",{style:{color:"#7e57c2",border:"1px solid #7e57c2",borderRadius:20,display:"inline-block",marginRight:10,padding:5,marginTop:5},children:[e.firstName+" "+e.lastName,Object(B.jsx)(S.a,{onClick:function(){return function(e){var t=o.filter((function(t){return t!=e.id})),n=b.filter((function(t){return t.id!=e.id})),a={id:e.id,label:e.title};l(t),j(n),i.push(a)}(e)},style:{cursor:"pointer",marginBottom:"-6px",color:"#7e57c2"}})]})})):Object(B.jsx)("span",{style:{marginRight:5},children:"Add a Assignee(s)"})})]}),Object(B.jsx)(O.a,{disablePortal:!0,id:"combo-box-demo",style:{margin:"10px 0px"},onChange:function(e,t){return function(e){if(null!=e){var t=b,n=N.filter((function(t){return t.id==e.id}));t.push(n[0]);var a=i.filter((function(t){return t.id!=e.id}));r(a),j(t),o.push(e.id)}}(t)},options:i,sx:{width:"95%"},renderInput:function(e){return Object(B.jsx)(x.a,Object(h.a)(Object(h.a)({},e),{},{label:"Select Assignees"}))}}),Object(B.jsxs)("div",{style:{display:"inline-block"},children:[Object(B.jsx)(D.a,{onClick:function(){e.currentTask.assignees=o,w(!1)},style:{marginTop:20,marginRight:10,width:"20px"},variant:"contained",children:"Save"}),Object(B.jsx)(D.a,{onClick:function(){w(!1)},style:{marginTop:20,width:"100px",background:"#EAEDED",color:"black"},variant:"contained",children:"Cancel"})]})]})})}var Bt=n(1083),Ft=n(1079),Ut=n(1096),Wt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4};function Lt(e){var t=a.useState(!1),n=Object(m.a)(t,2),i=(n[0],n[1]),r=a.useState(),s=Object(m.a)(r,2),c=(s[0],s[1]),o=a.useState([]),l=Object(m.a)(o,2),d=l[0],u=l[1],b=a.useState(!1),j=Object(m.a)(b,2),p=j[0],f=j[1],g=a.useState(),O=Object(m.a)(g,2),v=O[0],w=O[1],S=a.useState(!1),k=Object(m.a)(S,2),C=k[0],P=k[1];a.useEffect((function(){u(e.points)}),[e]);var E=[{id:0,name:"Not Started"},{id:1,name:"In Progress"},{id:2,name:"Need Management Approval"},{id:3,name:"On Hold"},{id:4,name:"Completed"},{id:5,name:"Aborted/Closed"}],R=function(t){return Object(B.jsx)(I.a,{fullWidth:!0,children:Object(B.jsx)(Ft.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:t.row.status,onChange:function(n){return a=n.target.value,i=t,void e.getPointStatus(a,i.id,e.taskID);var a,i},children:E.map((function(e){return Object(B.jsx)(Bt.a,{value:e.id,children:e.name})}))})})},z=function(t){return e.agendaSerial+"."+e.taskSerial+"."+(n=t.id,d.findIndex((function(e){return e.id==n}))+1);var n},F=[{field:"name",headerName:Object(B.jsx)("b",{children:"Point"}),width:500,disableColumnMenu:!0,sortable:!1,renderCell:function(t){return Object(B.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(B.jsx)("div",{style:{width:"10%",paddingTop:1},children:z(t)}),Object(B.jsx)("div",{style:{width:"90%"},children:Object(B.jsx)(x.a,{variant:"standard",multiline:!0,value:t.row.text,onChange:function(n){return a=n.target.value,i=t,void e.getPointText(a,i.id,e.taskID);var a,i},InputProps:{disableUnderline:!0,style:{fontSize:12}},style:{height:"90px",width:"100%",overflowY:"scroll"}})})]})}},{field:"originalDate",headerName:Object(B.jsx)("b",{children:"Assigned Date"}),width:200,disableColumnMenu:!0,sortable:!1,renderCell:function(t){return Object(B.jsx)(Y.a,{value:new Date(t.row.originalDate),inputFormat:"dd/MM/yyyy",onChange:function(n){return a=n,i=t,void e.getAssignedDate(a,i.id,e.taskID);var a,i},renderInput:function(e){return Object(B.jsx)(x.a,Object(h.a)({},e))}})}},{field:"targetDate",headerName:Object(B.jsx)("b",{children:"Due Date"}),width:200,disableColumnMenu:!0,sortable:!1,renderCell:function(t){return Object(B.jsx)(Y.a,{value:new Date(t.row.targetDate),inputFormat:"dd/MM/yyyy",onChange:function(n){return a=n,i=t,void e.getTargetDate(a,i.id,e.taskID);var a,i},renderInput:function(e){return Object(B.jsx)(x.a,Object(h.a)({},e))}})}},{field:"status",headerName:Object(B.jsx)("b",{children:"Status"}),width:300,disableColumnMenu:!0,sortable:!1,headerClassName:"super-app-theme--header",renderCell:function(e){return R(e)}},{field:"action",headerName:Object(B.jsx)("b",{children:"Actions"}),width:225,disableColumnMenu:!0,sortable:!1,disableClickEventBubbling:!0,renderCell:function(e){return Object(B.jsxs)("div",{children:[Object(B.jsx)(D.a,{size:"small",variant:"contained",style:{marginRight:10},children:"Edit"}),Object(B.jsx)(D.a,{size:"small",onClick:function(){return U(e.row.id)},variant:"contained",style:{background:"red"},children:"Delete"})]})}}],U=function(e){f(!0),w(e)};return Object(B.jsxs)("div",{style:{marginTop:30,height:400,width:"100%"},children:[C?Object(B.jsx)("div",{style:{textAlign:"center"},children:Object(B.jsx)(Ut.a,{})}):Object(B.jsx)(y.a,{rows:d,onCellKeyDown:function(e,t){return t.stopPropagation()},columns:F,pageSize:5,rowHeight:100,rowsPerPageOptions:[5],onCellClick:function(e){c(e),localStorage.setItem("taskID",e.row.id),"edit"!==localStorage.getItem("modalData")&&"responsiblePersons"!==localStorage.getItem("modalData")||i(!0)},disableSelectionOnClick:!0}),Object(B.jsx)(T.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:p,closeAfterTransition:!0,BackdropComponent:N.a,BackdropProps:{timeout:500},children:Object(B.jsx)(M.a,{in:p,children:Object(B.jsxs)(A.a,{sx:Wt,children:[Object(B.jsx)("p",{style:{marginBottom:30},children:"Are you sure you want to delete this point? This action can't be reverted."}),Object(B.jsxs)("div",{style:{textAlign:"center"},children:[Object(B.jsx)(D.a,{size:"small",variant:"contained",color:"primary",style:{margin:"0px 10px"},onClick:function(){P(!0),e.getDeletedPoint(e.taskID,v),setTimeout((function(){P(!1)}),3e3),f(!1)},children:"Yes"}),Object(B.jsx)(D.a,{size:"small",variant:"contained",color:"primary",style:{margin:"0px 10px"},onClick:function(){f(!1)},children:"No"})]})]})})})]})}var Ht=n(1084),Jt=n(1102),Yt=n(1103),_t=n(624),qt=n.n(_t),Gt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4},Vt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",boxShadow:24,p:4},Kt={position:"absolute",top:"45%",left:"50%",transform:"translate(-50%, -50%)",width:700,bgcolor:"background.paper",boxShadow:24,p:4},Xt=function(e){var t=a.useState([]),n=Object(m.a)(t,2),i=n[0],r=n[1],s=a.useState(!1),c=Object(m.a)(s,2),o=c[0],l=c[1],d=a.useState(""),u=Object(m.a)(d,2),b=u[0],j=u[1],p=a.useState(-1),f=Object(m.a)(p,2),g=f[0],O=f[1],v=a.useState({}),y=Object(m.a)(v,2),w=y[0],S=y[1],k=a.useState(!1),C=Object(m.a)(k,2),I=C[0],P=C[1],E=a.useState(!1),R=Object(m.a)(E,2),z=R[0],F=R[1],U=a.useState(),W=Object(m.a)(U,2),L=W[0],H=W[1],J=e.employees,Y=e.agendaID;a.useEffect((function(){r(e.agendaTasks)}),[]);var _=function(e,t){var n={},a=[],i=-1;agendas.map((function(e){e.id===t&&e.tasks.map((function(e,t){e.id==localStorage.getItem("taskID")?(n=e,i=t):a.push(e)}))})),n=Object(h.a)(Object(h.a)({},n),{},{assignees:e}),a.splice(i,0,n);var r=agendas.map((function(e){return e.id===t?Object(h.a)(Object(h.a)({},e),{},{tasks:a}):e}));setAgendas(r)},q=function(){P(!0),e.getData(Y,g,b),localStorage.removeItem("taskModalData"),l(!1),j(""),O(-1),setTimeout((function(){P(!1)}),3e3)},G=function(){localStorage.removeItem("taskModalData"),l(!1),j("")},V=function(e){0==e&&G()},K=function(t){switch(localStorage.getItem("taskModalData")){case"add":return Object(B.jsxs)("div",{children:[Object(B.jsx)(x.a,{id:"outlined-basic",label:"Point",variant:"outlined",multiline:!0,rows:5,value:b,style:{width:"100%"},onChange:function(e){return j(e.target.value)}}),Object(B.jsx)("br",{}),Object(B.jsxs)("div",{style:{display:"inline-block"},children:[Object(B.jsx)(D.a,{onClick:function(){return q()},style:{marginTop:20,marginRight:10,width:"20px"},variant:"contained",children:"Add"}),Object(B.jsx)(D.a,{onClick:G,style:{marginTop:20,width:"100px",background:"#EAEDED",color:"black"},variant:"contained",children:"Cancel"})]})]});case"responsiblePersons":return Object(B.jsx)(zt,{currentTask:w,getModalState:V,getUpdatedList:X,usersList:e.employees})}},X=function(t,n){var a=[];t.map((function(e){a.push(e.id)})),e.getAssignees(Y,n,a)},$=function(t,n,a){e.getUpdatedPointAssignedDate(t,n,a,Y)},Q=function(t,n,a){e.getUpdatedPointTargetDate(t,n,a,Y)},Z=function(t,n,a){e.getUpdatedPointStatus(t,n,a,Y)},ee=function(t,n,a){e.getUpdatedPointText(t,n,a,Y)},te=function(t,n){e.getDeletedPoint(t,n,Y)},ne=function(e){var t=e,n="";return e.length?(J.map((function(e){t.includes(e.id)&&(n=n.concat(e.initial+", "))})),n=n.replace(/,\s*$/,"")):n="None",n},ae=function(){P(!0),e.getDeletedTask(Y,L),setTimeout((function(){P(!1)}),3e3),F(!1)},ie=function(){F(!1)};return i.map((function(t,n){return Object(B.jsxs)(Ht.a,{children:[Object(B.jsx)(Jt.a,{expandIcon:Object(B.jsx)(qt.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(B.jsxs)(Rt.a,{style:{fontWeight:"bold",color:"#7e57c2"},children:["Task ",e.agendaSerial+"."+(n+1)]})}),Object(B.jsxs)(Yt.a,{children:[Object(B.jsxs)("div",{style:{textAlign:"right"},children:[Object(B.jsx)(D.a,{onClick:function(){return function(e){O(e),localStorage.setItem("taskModalData","add"),l(!0)}(t.id)},style:{marginRight:10},variant:"contained",children:"+ Add Point"}),Object(B.jsx)(D.a,{onClick:function(){return function(t){var n=e.agendaTasks.filter((function(e){return e.id==t}));S(n[0]),localStorage.setItem("taskModalData","responsiblePersons"),l(!0)}(t.id)},style:{marginRight:10},variant:"contained",children:"Add Assignees"}),Object(B.jsx)(D.a,{onClick:function(){return function(e){F(!0),H(e)}(t.id)},variant:"contained",style:{background:"red"},children:"Delete Task"})]}),Object(B.jsx)(T.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:z,closeAfterTransition:!0,BackdropComponent:N.a,BackdropProps:{timeout:500},children:Object(B.jsx)(M.a,{in:z,children:Object(B.jsxs)(A.a,{sx:Gt,children:[Object(B.jsx)("p",{style:{marginBottom:30},children:"Are you sure you want to delete this task? This action can't be reverted."}),Object(B.jsxs)("div",{style:{textAlign:"center"},children:[Object(B.jsx)(D.a,{size:"small",variant:"contained",color:"primary",style:{margin:"0px 10px"},onClick:ae,children:"Yes"}),Object(B.jsx)(D.a,{size:"small",variant:"contained",color:"primary",style:{margin:"0px 10px"},onClick:ie,children:"No"})]})]})})}),Object(B.jsxs)("div",{style:{wordBreak:"break-all",margin:"5px 2px",fontSize:15,width:"50%"},children:[Object(B.jsx)("b",{children:"Assignees:"})," ",ne(t.assignees)," "]}),Object(B.jsx)(T.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:o,closeAfterTransition:!0,BackdropComponent:N.a,BackdropProps:{timeout:500},children:Object(B.jsx)(M.a,{in:o,children:Object(B.jsx)(A.a,{sx:"responsiblePersons"==localStorage.getItem("taskModalData")?Kt:Vt,children:K()})})}),I?Object(B.jsx)("div",{style:{textAlign:"center"},children:Object(B.jsx)(Ut.a,{})}):Object(B.jsx)(Lt,{points:t.points,taskSerial:n+1,agendaSerial:e.agendaSerial,taskID:t.id,getAssignedDate:$,getTargetDate:Q,getPointStatus:Z,getPointText:ee,getDeletedPoint:te,getUpdatedResponsiblePersons:_,people:J})]})]})}))},$t=["children","value","index"],Qt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:500,bgcolor:"background.paper",boxShadow:24,p:4},Zt={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,p:4};function en(e){var t=e.children,n=e.value,a=e.index,i=Object(It.a)(e,$t);return Object(B.jsx)("div",Object(h.a)(Object(h.a)({role:"tabpanel",hidden:n!==a,id:"vertical-tabpanel-".concat(a),"aria-labelledby":"vertical-tab-".concat(a)},i),{},{children:n===a&&Object(B.jsx)(A.a,{sx:{p:3},children:Object(B.jsx)(Rt.a,{children:t})})}))}var tn=function(e){var t=a.useState(0),n=Object(m.a)(t,2),i=n[0],r=n[1],s=a.useState(!0),c=Object(m.a)(s,2),o=(c[0],c[1],a.useState(!1)),l=Object(m.a)(o,2),d=l[0],u=l[1],b=a.useState([]),j=Object(m.a)(b,2),p=j[0],O=j[1],y=a.useState(""),w=Object(m.a)(y,2),S=(w[0],w[1]),k=a.useState(""),C=Object(m.a)(k,2),I=C[0],P=C[1],F=a.useState(),W=Object(m.a)(F,2),L=(W[0],W[1]),H=a.useState(!1),Y=Object(m.a)(H,2),_=Y[0],q=Y[1],G=a.useState(!1),V=Object(m.a)(G,2),K=V[0],$=V[1],Q=a.useState(""),Z=Object(m.a)(Q,2),ee=Z[0],te=Z[1],ne=a.useState(""),ae=Object(m.a)(ne,2),ie=ae[0],re=ae[1],se=a.useState("dd/MM/yyyy"),ce=Object(m.a)(se,2),oe=ce[0],le=(ce[1],a.useState([])),de=Object(m.a)(le,2),ue=de[0],be=de[1],je=a.useState({}),pe=Object(m.a)(je,2),he=pe[0],fe=pe[1],ge=a.useState([]),me=Object(m.a)(ge,2),xe=me[0],Oe=me[1],ve=a.useState([]),ye=Object(m.a)(ve,2),we=ye[0],Se=ye[1],ke=a.useState([]),Ce=Object(m.a)(ke,2),De=Ce[0],Ne=Ce[1],Ae=a.useState(!1),Te=Object(m.a)(Ae,2),Me=Te[0],Ie=Te[1],Pe=a.useState(""),Ee=Object(m.a)(Pe,2),Re=Ee[0],ze=Ee[1],Be=a.useState(""),Fe=Object(m.a)(Be,2),Ue=Fe[0],We=Fe[1],Le=a.useState(!1),He=Object(m.a)(Le,2),Je=He[0],Ye=He[1],_e=a.useState(!1),qe=Object(m.a)(_e,2),Ge=qe[0],Ve=qe[1],Ke=a.useState(),Xe=Object(m.a)(Ke,2),$e=Xe[0],Qe=Xe[1],Ze=Object(U.g)();a.useEffect(Object(g.a)(Object(f.a)().mark((function e(){var t,n,a;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("meetingID"),e.next=3,E.a.get("".concat(z,"/users"),{headers:R});case 3:return n=e.sent,e.next=6,E.a.get("".concat(z,"/meetings/").concat(t),{headers:R});case 6:a=e.sent,be(n.data),fe(a.data);case 9:case"end":return e.stop()}}),e)}))),[]),a.useEffect((function(){if(Object.keys(he).length&&ue.length){var e=he.organizer.firstName+" "+he.organizer.lastName;te(e),re(he.subject),O(he.agendas)}}),[ue,he]);var et=function(){localStorage.setItem("agendaModalData","edit"),u(!0)},tt=function(){localStorage.removeItem("agendaModalData"),u(!1),P(""),S("")},nt=function(){var e=xe;e.push(p.length),$(!0),localStorage.removeItem("agendaModalData");var t=[].concat(Object(v.a)(p),[{id:p.length,agenda:I,tasks:[]}]);P(""),u(!1),O(t),Oe(e),setTimeout((function(){$(!1)}),3e3)},at=function(){var e=Object(g.a)(Object(f.a)().mark((function e(){var t,n,a,i,r,s;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ye(!0),t=p.map((function(e){return e.tasks.map((function(e){return e.points.map((function(e){return e.originalDate=new Date(e.originalDate).toISOString(),e})),e})),e})),n=t.map((function(e){return e.tasks.map((function(e){return e.points.map((function(e){return e.targetDate=new Date(e.targetDate).toISOString(),e})),e})),e})),a=n.map((function(e){return e.tasks.map((function(e){var t=[];return e.assignees.map((function(e){"object"==typeof e?t.push(e.id):t.push(e)})),e.assignees=t,e})),e})),i=a.map((function(e){return xe.includes(e.id)&&delete e.id,e.tasks.map((function(e){return we.includes(e.id)&&delete e.id,e.points.map((function(e){return De.includes(e.id)&&delete e.id,e})),e})),e})),r=Object(h.a)(Object(h.a)({},he),{},{agendas:i}),e.next=8,E.a.put("".concat(z,"/meetings/").concat(he.id),r,{headers:R});case 8:s=e.sent,console.log(s),200==(null===s||void 0===s?void 0:s.status)?(ze("Agendas has been updated successfully!"),Ie(!0),We("success"),setTimeout((function(){Ze.push("/meetings/update"),Ie(!1)}),5e3)):(ze("Error"),Ie(!0),We("success"),setTimeout((function(){ze(""),Ie(!1),We("")}),5e3));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),it=function(e,t,n){var a=De,i=p.map((function(i){return i.id==e&&i.tasks.map((function(e){if(e.id==t){var i={id:e.points.length,originalDate:oe,targetDate:oe,status:0,text:n};return a.push(e.points.length),e.points=[].concat(Object(v.a)(e.points),[i])}return e})),i}));O(i),Ne(a)},rt=function(e,t,n){var a=p.map((function(a){return a.id==e&&a.tasks.map((function(e){return e.id==t&&(e.assignees=n),e})),a}));O(a)},st=function(e,t,n,a){var i=p.map((function(i){return i.id==a&&i.tasks.map((function(a){return a.id==n&&a.points.map((function(n){return n.id==t&&(n.originalDate=e),n})),a})),i}));O(i)},ct=function(e,t,n,a){var i=p.map((function(i){return i.id==a&&i.tasks.map((function(a){return a.id==n&&a.points.map((function(n){return n.id==t&&(n.targetDate=e),n})),a})),i}));O(i)},ot=function(e,t,n){var a=[],i=[];p.map((function(e){e.id==n&&(a=e.tasks)})),a.map((function(t){t.id==e&&(i=t.points)}));var r=i.filter((function(e){return e.id!=t})),s=p.map((function(t){return t.id==n&&t.tasks.map((function(t){return t.id==e&&(t.points=r),t})),t}));O(s)},lt=function(e,t,n,a){var i=p.map((function(i){return i.id==a&&i.tasks.map((function(a){return a.id==n&&a.points.map((function(n){return n.id==t&&(n.text=e),n})),a})),i}));O(i)},dt=function(e,t,n,a){var i=p.map((function(i){return i.id==a&&i.tasks.map((function(a){return a.id==n&&a.points.map((function(n){return n.id==t&&(n.status=e),n})),a})),i}));O(i)},ut=function(e,t){var n=[],a=-1;p.map((function(t){t.id==e&&(n=t.tasks)})),n.map((function(e){e.id==t&&(a=n.indexOf(e))})),n.splice(a,1);var i=p.map((function(t){return t.id==e&&(t.tasks=n),t}));O(i)};return Object(B.jsxs)("div",{children:[Object(B.jsx)("div",{style:{background:"#EAEDED",width:"100%",padding:"30px 0px"},children:Object(B.jsxs)("div",{style:{padding:"10px 0px",width:"95%",margin:"auto",background:"#fff",boxShadow:"rgba(0, 0, 0, 0.35) 0px 5px 15px"},children:[Object(B.jsx)(X,{btnText:"Back",onClick:function(){Ze.push("/meetings/update")}}),Object(B.jsx)("h2",{style:{textAlign:"center",marginTop:"-5px"},children:"Agendas"}),Object(B.jsxs)("div",{style:{lineHeight:0,margin:20},children:[Object(B.jsxs)("p",{children:[Object(B.jsx)("font",{style:{fontWeight:"bold"},children:"Meeting Name: "}),ie]}),Object(B.jsxs)("p",{style:{marginTop:30},children:[Object(B.jsx)("font",{style:{fontWeight:"bold"},children:"Organizer Name: "}),ee]})]}),Object(B.jsx)(D.a,{onClick:function(){localStorage.setItem("agendaModalData","add"),u(!0)},style:{margin:20,marginRight:10,width:"150px"},variant:"contained",children:"+ Add Agenda"}),Object(B.jsx)(D.a,{onClick:at,disabled:Je,style:{margin:20,marginLeft:0,width:"100px",background:"green"},variant:"contained",children:"Save"}),Object(B.jsx)(T.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:d,closeAfterTransition:!0,BackdropComponent:N.a,BackdropProps:{timeout:500},children:Object(B.jsx)(M.a,{in:d,children:Object(B.jsx)(A.a,{sx:Qt,children:function(){if("add"===localStorage.getItem("agendaModalData"))return Object(B.jsxs)("div",{children:[Object(B.jsx)(x.a,{id:"outlined-basic",label:"Agenda Title",variant:"outlined",multiline:!0,rows:5,value:I,style:{width:"100%"},onChange:function(e){return P(e.target.value)}}),Object(B.jsx)("br",{}),Object(B.jsxs)("div",{style:{display:"inline-block"},children:[Object(B.jsx)(D.a,{onClick:nt,style:{marginTop:20,marginRight:10,width:"20px"},variant:"contained",children:"Add"}),Object(B.jsx)(D.a,{onClick:tt,style:{marginTop:20,width:"100px",background:"#EAEDED",color:"black"},variant:"contained",children:"Cancel"})]})]})}()})})}),Object(B.jsxs)(A.a,{sx:{flexGrow:1,bgcolor:"background.paper",display:"flex",height:"700px",marginTop:5,paddingBottom:10,overflowY:"scroll"},children:[Object(B.jsx)(Pt.a,{orientation:"vertical",variant:"scrollable",value:i,onChange:function(e,t){r(t)},"aria-label":"Vertical tabs example",sx:{borderRight:1,borderColor:"divider",width:"200px"},children:K?Object(B.jsx)("div",{style:{textAlign:"center",width:"150px"},children:Object(B.jsx)(Ut.a,{})}):p.map((function(e,t){return Object(B.jsx)(Et.a,Object(h.a)({style:{alignItems:"self-start",justifyContent:"flex-start"},label:t+1+". "+e.agenda},function(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}(t)))}))}),p.map((function(e,t){return Object(B.jsxs)(en,{value:i,index:t,style:{width:"100%"},children:[Object(B.jsxs)("div",{style:{display:"flex",width:"100%"},children:[Object(B.jsx)("div",{style:{width:"50%"},children:Object(B.jsx)("h3",{children:t+1+". "+e.agenda})}),Object(B.jsxs)("div",{style:{width:"50%",textAlign:"right",marginTop:5},children:[Object(B.jsx)(D.a,{onClick:function(){return function(e){L(e),q(!0);var t=we,n=p.filter((function(t){return t.id==e})),a=n[0].tasks.length;t.push(a);var i={id:a,assignees:[],points:[]};n[0].tasks=[].concat(Object(v.a)(n[0].tasks),[i]);var r=p.findIndex((function(e){return e.id==n[0].id})),s=p;s.splice(r,1,n[0]),L(-1),O(s),Se(t),S(""),setTimeout((function(){q(!1)}),3e3)}(e.id)},style:{margin:10,marginRight:0},variant:"contained",children:"+ Add Task"}),Object(B.jsx)(D.a,{onClick:et,style:{margin:10},variant:"contained",children:"Edit"}),Object(B.jsx)(D.a,{onClick:function(){return t=e.id,Ve(!0),void Qe(t);var t},style:{margin:10,marginLeft:0,background:"red"},variant:"contained",children:"Delete Agenda"})]})]}),_?Object(B.jsx)("div",{style:{textAlign:"center"},children:Object(B.jsx)(Ut.a,{})}):Object(B.jsx)(Xt,{getAssignees:rt,getDeletedTask:ut,agendaTasks:e.tasks,agendaSerial:t+1,employees:ue,agendaID:e.id,getData:it,getUpdatedPointAssignedDate:st,getUpdatedPointTargetDate:ct,getUpdatedPointStatus:dt,getUpdatedPointText:lt,getDeletedPoint:ot})]})}))]})]})}),Object(B.jsx)(T.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:Ge,closeAfterTransition:!0,BackdropComponent:N.a,BackdropProps:{timeout:500},children:Object(B.jsx)(M.a,{in:Ge,children:Object(B.jsxs)(A.a,{sx:Zt,children:[Object(B.jsx)("p",{style:{marginBottom:30},children:"Are you sure you want to delete this agenda? This action can't be reverted."}),Object(B.jsxs)("div",{style:{textAlign:"center"},children:[Object(B.jsx)(D.a,{size:"small",variant:"contained",color:"primary",style:{margin:"0px 10px"},onClick:function(){$(!0);var e=p.filter((function(e){return e.id!=$e}));O(e),setTimeout((function(){$(!1)}),3e3),Ve(!1)},children:"Yes"}),Object(B.jsx)(D.a,{size:"small",variant:"contained",color:"primary",style:{margin:"0px 10px"},onClick:function(){Ve(!1)},children:"No"})]})]})})}),Object(B.jsx)(J,{open:Me,text:Re,type:Ue})]})},nn=[Object(B.jsx)(U.b,{exact:!0,path:"/signup",component:St,noLayout:!0}),Object(B.jsx)(U.b,{exact:!0,path:"/agendas",component:tn}),Object(B.jsx)(U.b,{path:"/reporting/:meetingId",component:function(e){var t=Object(a.useState)(null),n=Object(m.a)(t,2),i=n[0],r=n[1],s=Object(a.useState)(null),c=Object(m.a)(s,2),o=c[0],l=c[1];function d(e){var t=e.points,n=e.pointIndex,a=t[n].originalDate,i=t.slice(n+1),r=1;if(n&&t[n-1].originalDate===a)return null;var s,c=Object(kt.a)(i);try{for(c.s();!(s=c.n()).done;){if(s.value.originalDate!==a)break;r++}}catch(o){c.e(o)}finally{c.f()}return Object(B.jsx)("td",{rowSpan:r,className:"original-date-col",style:{borderLeft:"none"},children:a?q()(a).format("DD-MMM-YY"):"TBC"})}return Object(a.useEffect)((function(){var t=e.match.params.meetingId;fetch("".concat("http://localhost:3004","/meetings/report/")+t).then((function(e){return e.json()})).then((function(e){var t,n=new Map(e.agendas.flatMap((function(e){return e.tasks.flatMap((function(e){return e.assignees.map((function(e){return[e.id,e]}))}))}))),a=Object(kt.a)(e.sessions);try{for(a.s();!(t=a.n()).done;){var i,s=t.value,c=Object(kt.a)(s.participants);try{for(c.s();!(i=c.n()).done;){var o=i.value;n.set(o.id,o)}}catch(v){c.e(v)}finally{c.f()}}}catch(v){a.e(v)}finally{a.f()}var d,u=new Set,b=Object(kt.a)(n);try{for(b.s();!(d=b.n()).done;){var j,p,h,f,g=Object(m.a)(d.value,2)[1],x=(null!==(j=null===(p=g.firstName[0])||void 0===p?void 0:p.toUpperCase())&&void 0!==j?j:"")+(null!==(h=null===(f=g.lastName[0])||void 0===f?void 0:f.toUpperCase())&&void 0!==h?h:"");if(u.has(x)){for(var O=1;u.has(x+O);)O++;x+=O}u.add(x),g.initials=x}}catch(v){b.e(v)}finally{b.f()}r(e),l(n)}))}),[]),i&&o?Object(B.jsxs)(Nt.a,{mt:2,children:[Object(B.jsx)(me.a,{id:"download-btn",variant:"contained",color:"primary",style:{marginLeft:"45%"},onClick:function(){if(i&&o){var e=document.getElementById("report");Dt()(e,{filename:i.subject})}},children:"Print Report"}),Object(B.jsxs)("div",{id:"report",class:"report",children:[Object(B.jsx)("h1",{className:"heading",children:i.subject}),Object(B.jsx)("table",{className:"enclosing-table",children:Object(B.jsxs)("tbody",{className:"enclosing-table-body",children:[Object(B.jsxs)("table",{className:"participants-table",children:[Object(B.jsx)("tr",{children:Object(B.jsx)("th",{colSpan:i.sessions.length+3,children:"Minutes of Meeting"})}),Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{className:"number-col"}),Object(B.jsx)("th",{className:"name-col",children:"Participants"}),Object(B.jsx)("th",{className:"initals-col",children:"Initials"}),i.sessions.map((function(e){return Object(B.jsx)("th",{className:"session-col",children:q()(e.startDate).format("DD MMM, YYYY")})}))]}),Array.from(o.values()).map((function(e,t){return Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{children:t+1}),Object(B.jsx)("td",{children:e.firstName+" "+e.lastName}),Object(B.jsx)("td",{children:e.initials}),i.sessions.map((function(t){return t.participants.find((function(t){return t.id===e.id}))?Object(B.jsx)("td",{children:Object(B.jsx)(Tt.a,{})}):Object(B.jsx)("td",{})}))]})}))]}),Object(B.jsxs)("table",{className:"mom-table",children:[Object(B.jsxs)("tr",{children:[Object(B.jsx)("th",{className:"number-col"}),Object(B.jsx)("th",{className:"original-date-col",children:"Original Date"}),Object(B.jsx)("th",{className:"task-number-col"}),Object(B.jsxs)("th",{className:"task-text-col",children:["Material Discussed & Decision Taken"," "]}),Object(B.jsx)("th",{className:"reponsible-person-col",children:"Responsible Person"}),Object(B.jsx)("th",{className:"target-date-col",children:"Target Date"}),Object(B.jsx)("th",{className:"task-status-col",children:"Task Status"})]}),i.agendas.flatMap((function(e,t){var n=[Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{className:"number-row",children:t+1}),Object(B.jsx)("td",{}),Object(B.jsx)("td",{}),Object(B.jsx)("td",{children:e.agenda}),Object(B.jsx)("td",{}),Object(B.jsx)("td",{}),Object(B.jsx)("td",{})]})],a=e.tasks.map((function(e,n){return Object(B.jsxs)("tr",{children:[Object(B.jsx)("td",{}),Object(B.jsx)("td",{colSpan:"6",className:"points",children:Object(B.jsx)("table",{children:e.points.map((function(a,i){return Object(B.jsxs)("tr",{children:[Object(B.jsx)(d,{points:e.points,pointIndex:i}),0===i&&Object(B.jsx)("td",{rowSpan:e.points.length,className:"task-number-col",children:"".concat(t+1,".").concat(n+1)}),Object(B.jsx)("td",{className:"task-text-col text",children:"".concat(t+1,".").concat(n+1,".").concat(i+1,". ").concat(a.text)}),0===i&&Object(B.jsx)("td",{rowSpan:e.points.length,className:"reponsible-person-col",children:e.assignees.map((function(e){return o.get(e.id).initials})).reduce((function(e,t){return"".concat(e?e+" & ":"").concat(t)}),"")}),Object(B.jsx)("td",{className:"target-date-col",children:a.targetDate?q()(a.targetDate).format("DD-MMM-YY"):"TBC"}),Object(B.jsx)("td",{className:"task-status-col",style:{borderRight:"none"},children:Mt[a.status]})]})}))})})]})}));return n=n.concat(a)}))]})]})})]})]}):Object(B.jsx)("div",{children:"Generating Report"})},noLayout:!0})],an=n(314),rn=n(212),sn=n.n(rn),cn=n(198),on=n(199),ln=sn()({},an.a,{palette:{primary:cn.a,secondary:on.a,error:tt.a,contrastThreshold:3,tonalOffset:.2},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Arial","sans-serif"].join(","),h5:{color:"#7e57c2"}},overrides:{MuiAppBar:{colorSecondary:{color:"white",backgroundColor:"#7e57c2"}}}}),dn=n(1077),un=n(1065),bn=n(625),jn=n.n(bn),pn=n(626),hn=n(315),fn=Object(Oe.a)((function(e){return{root:{marginTop:e.spacing(1),marginBottom:e.spacing(1),transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},open:{width:200},closed:{width:55}}})),gn=function(e){var t,n=e.dense,i=void 0!==n&&n,r=fn(),s=Object(rt.f)((function(e){return e.admin.ui.sidebarOpen})),l=Object(ue.a)(),d=l.loading,u=l.permissions,b=a.useState(!1),j=Object(m.a)(b,2),p=j[0],h=j[1];return a.useEffect((function(){h("admin"===u)}),[u,d]),Object(B.jsxs)("div",{className:jn()(r.root,(t={},Object(Ke.a)(t,r.open,s),Object(Ke.a)(t,r.closed,!s),t)),children:[" ",Object(B.jsx)(pn.a,{}),Object(B.jsx)(hn.a,{to:{pathname:"/meetings",state:{_scrollToTop:!0}},primaryText:"MoM",leftIcon:Object(B.jsx)(c.a,{}),dense:i}),Object(B.jsx)(hn.a,{to:{pathname:"/points",state:{_scrollToTop:!0}},primaryText:"Tasks",leftIcon:Object(B.jsx)(un.a,{}),dense:i}),!d&&p&&Object(B.jsx)(hn.a,{to:{pathname:"/users",state:{_scrollToTop:!0}},primaryText:"Users",leftIcon:Object(B.jsx)(o.a,{}),dense:i})]})},mn=function(e){return Object(B.jsx)(dn.a,Object(h.a)(Object(h.a)({},e),{},{menu:gn}))},xn=n(860),On=n(857),vn=n(838),yn=n(79),wn=n(1099),Sn=n(1068),kn=Object(Oe.a)((function(){return Object(wn.a)({icon:{backgroundColor:tt.a[500],height:60,width:60}})})),Cn=function(e){var t=kn();return Object(B.jsx)(pe.a,Object(h.a)(Object(h.a)({},e),{},{children:Object(B.jsx)(vn.a,{children:Object(B.jsxs)(On.a,{container:!0,spacing:3,sx:{justifyContent:"space-between"},children:[Object(B.jsxs)(On.a,{item:!0,children:[Object(B.jsx)(yn.a,{color:"textSecondary",gutterBottom:!0,variant:"subtitle2",children:"MoM This Month"}),Object(B.jsx)(yn.a,{color:"textPrimary",variant:"h3",children:e.thisMonthTotal})]}),Object(B.jsx)(On.a,{item:!0,children:Object(B.jsx)(he.a,{className:t.icon,children:Object(B.jsx)(Sn.a,{fontSize:"large"})})})]})})}))},Dn=n(319),Nn=n(40),An=n(858),Tn=n(859),Mn=function(e){var t=e.chartData,n={datasets:[{backgroundColor:Nn.a.indigo[500],barThickness:20,borderRadius:5,data:t,label:"Number of Meetings"}],labels:["January","February","March","April","May","June","July","August","September","October","November","December"]};return Object(B.jsxs)(pe.a,{children:[Object(B.jsx)(An.a,{title:"Number of meetings"}),Object(B.jsx)(Tn.a,{}),Object(B.jsx)(vn.a,{children:Object(B.jsx)(Nt.a,{sx:{height:400,position:"relative"},children:Object(B.jsx)(Dn.a,{data:n,options:{animation:!1,cornerRadius:20,layout:{padding:0},legend:{display:!1},maintainAspectRatio:!1,responsive:!0,scales:{xAxes:[{ticks:{fontColor:"#6b778c"},gridLines:{display:!1,drawBorder:!1}}],yAxes:[{ticks:{fontColor:"#6b778c",beginAtZero:!0,min:0},gridLines:{borderDash:[2],borderDashOffset:[2],color:"#efefef",drawBorder:!1,zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2],zeroLineColor:"#efefef"}}]},tooltips:{backgroundColor:"#ffffff",bodyFontColor:"#6b778c",borderColor:"#efefef",borderWidth:1,enabled:!0,footerFontColor:"#6b778c",intersect:!1,mode:"index",titleFontColor:"#172b4d"}}})})})]})},In=function(e){var t=e.chartData,n=e.departments,a={datasets:[{data:t,backgroundColor:n.map((function(e,t){var n;switch(t%7){case 0:n=Nn.a.indigo;break;case 1:n=Nn.a.red;break;case 2:n=Nn.a.green;break;case 3:n=Nn.a.blue;break;case 4:n=Nn.a.orange;break;case 5:n=Nn.a.yellow;break;case 6:n=Nn.a.blueGrey}return n[100*(t<7?1:Math.floor(t/7)+1)]})),borderWidth:5,borderColor:Nn.a.common.white,hoverBorderColor:Nn.a.common.white}],labels:n.map((function(e){return e.name}))};return Object(B.jsxs)(pe.a,{children:[Object(B.jsx)(An.a,{title:"Meetings per department"}),Object(B.jsx)(Tn.a,{}),Object(B.jsx)(vn.a,{children:Object(B.jsx)(Nt.a,{children:Object(B.jsx)(Dn.b,{data:a,options:{layout:{padding:0},responsive:!0,tooltips:{backgroundColor:"#ffffff",bodyFontColor:"#6b778c",borderColor:"#efefef",borderWidth:1,enabled:!0,footerFontColor:"#6b778c",intersect:!1,mode:"index",titleFontColor:"#172b4d"},legend:{display:!0,position:"bottom"}}})})})]})},Pn=function(){var e=a.useState({thisMonthTotal:0,numberOfMeetingsPerMonth:[],deptWiseMeetings:{data:[],departments:[]}}),t=Object(m.a)(e,2),n=t[0],i=t[1],r=Object(ue.a)(),s=r.loading,c=r.permissions,o=a.useState(!1),l=Object(m.a)(o,2),d=l[0],u=l[1];return a.useEffect((function(){Object(g.a)(Object(f.a)().mark((function e(){var t,n,a,r;return Object(f.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new Request("".concat("http://localhost:3004","/stats"),{method:"GET",headers:new Headers({"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"})}),n=JSON.parse(localStorage.getItem("user")),t.headers.set("UserId",n.id),e.next=6,fetch(t);case 6:if(!((a=e.sent).status<200||a.status>=300)){e.next=9;break}throw new Error(response.statusText);case 9:return e.next=11,a.json();case 11:r=e.sent,i(r),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))()}),[]),a.useEffect((function(){u("admin"===c)}),[c,s]),s?null:Object(B.jsx)(Nt.a,{sx:{backgroundColor:"#f4f6f8",minHeight:"100%",py:3},children:Object(B.jsx)(xn.a,{maxWidth:!1,children:Object(B.jsxs)(On.a,{container:!0,spacing:3,children:[Object(B.jsx)(On.a,{item:!0,xs:12,children:Object(B.jsx)(On.a,{container:!0,spacing:3,children:Object(B.jsx)(On.a,{item:!0,xs:3,children:Object(B.jsx)(Cn,{thisMonthTotal:n.thisMonthTotal})})})}),Object(B.jsx)(On.a,{item:!0,xs:d?8:10,children:Object(B.jsx)(Mn,{chartData:n.numberOfMeetingsPerMonth})}),d?Object(B.jsx)(On.a,{item:!0,xs:4,children:Object(B.jsx)(In,{sx:{height:"100%"},chartData:n.deptWiseMeetings.data,departments:n.deptWiseMeetings.departments})}):null]})})})},En=n(67),Rn=Object(En.a)(),zn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.headers||(t.headers=new Headers({Accept:"application/json"}));var n=JSON.parse(localStorage.getItem("user")),a=!(null===n||void 0===n||!n.hasAdminRights);return a||t.headers.set("UserId",n.id),l.a.fetchJson(e,t)},Bn=function(){return Object(B.jsx)(p.a,{dateAdapter:j.a,children:Object(B.jsx)(d.a,{title:"MoM Portal",dataProvider:Object(b.a)("http://localhost:3004",zn),authProvider:Ve,customRoutes:nn,history:Rn,logoutButton:Ue,dashboard:Pn,theme:ln,loginPage:Pe,layout:mn,children:function(e){return[Object(B.jsx)(u.a,{name:"meetings",icon:c.a,list:de,edit:ie,create:$,agendas:tn,options:{label:"MoM"}}),"admin"===e?Object(B.jsx)(u.a,{name:"users",icon:o.a,list:Ge}):Object(B.jsx)(u.a,{name:"users"}),Object(B.jsx)(u.a,{name:"departments"}),Object(B.jsx)(u.a,{name:"agendas"}),Object(B.jsx)(u.a,{name:"points",icon:c.a,list:be})]}})})},Fn=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Un(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var Wn=new(n(1072).a)(De);s.a.render(Object(B.jsx)(a.StrictMode,{children:Object(B.jsx)(ke.a,{instance:Wn,children:Object(B.jsx)(Bn,{})})}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/mom",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/mom","/service-worker.js");Fn?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Un(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Un(e)}))}}()}},[[902,1,2]]]);
//# sourceMappingURL=main.d6092b0f.chunk.js.map